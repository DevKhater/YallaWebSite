{% extends "backend_base.html.twig" %}
{% block title %}Homepage Section{% endblock %}
{% block body %}
    <div class="row">
        {{dump(hom)}}
        <div class="col-md-12">
            <h4 class="page-head-line">Homepage</h4>
        </div
        <div id='ajaxDiv' style="display: none" class="col-lg-12"></div>
    </div>

    <div class="row">

        <h1>Slider Options</h1>
        <div class='col-md-12'>
            <div style="float:left">
                <select id="dd_event" class="form-control">
                    {% for event in events %}
                        <option value="{{event.id}}">{{event.title}}</option>
                    {% endfor %}
                </select> 
                <p>Position</p>
                <select id='dd_p_event' class='form-control'>
                    {% for i in 0..4 %}
                        <option value="{{i}}">{{i+1}}</option>
                    {% endfor %}
                </select> 
                <a id='Event' href='#' class='btn-sm btn-default'>Add To Slider</a>
            </div>
            <div style="float:left">
                <select class="form-control">
                    {% for article in articles %}
                        <option value="{{article.id}}">{{article.title}}</option>
                    {% endfor %}
                </select>

                <p>Position</p>
                <select class="form-control col-md-2">
                    {% for i in 0..4 %}
                        <option value="{{i}}">{{i+1}}</option>
                    {% endfor %}
                </select> 
                <a id='Article' href='#' class='btn-sm btn-default'>Add To Slider</a>
            </div>
            <div style="float:left">
                <select class="form-control">
                    {% for venue in venues %}
                        <option value="{{venue.id}}">{{venue.title}}</option>
                    {% endfor %}
                </select> 
                <p>Position</p>
                <select class="form-control col-md-2">
                    {% for i in 0..4 %}
                        <option value="{{i}}">{{i+1}}</option>
                    {% endfor %}
                </select> 
                <a id='Venue' href='#' class='btn-sm btn-default'>Add To Slider</a>
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
<script src="{{ asset('bundles/fosjsrouting/js/router.js') }}"></script>
<script src="{{ path('fos_js_routing_js', { callback: 'fos.Router.setData' }) }}"></script>
    <script>
        $(function () {
            $('a#Event').click(function (e) {
                e.preventDefault();
                var Value = $('#dd_event').val();
                var Position = $('#dd_p_event').val();
                var Type = 'Event';
                console.log(Value,Position,Type);
                updateSlider(Value, Position, Type);
            });
        });
        function updateSlider(v, p, t) {
        $.ajax({
        type: "POST",
                url: Routing.generate('backend_ajax_set_slider', {id: v, pos: p, type: t}),
                success: function (data) {
                $('#ajaxDiv').html(data);
                },
                error: function (xhr, textStatus, errorThrown) {
                console.log(xhr.responseText);
                        console.log(textStatus);
                        console.log(errorThrown);
                }
        });
    }
    </script>

{%endblock%}