{% extends "@YallaWebsiteFrontendBundle/views/front_base.html.twig" %}
{% block stylesheets %}
    {{parent()}}
    <link rel="stylesheet" href="{{ asset('bundles/yallawebsitefrontend/css/blueimp-gallery.min.css') }}" />
    <link rel="stylesheet" href="{{ asset('bundles/yallawebsitefrontend/css/bootstrap-image-gallery.css') }}" />
{% endblock %}    

{% block body %}
    <style>
        .thumbnail {
            margin: 0 auto;
            padding: 0;
        }
        .carousel-control.left, .carousel-control.right {
            background-image: none;
        }
        .carousel-control.left:hover, 
        .carousel-control.right:hover {
            background: rgba (0,0,0,0.5);
        }
        .modal-title {
            text-align: center;
        }
        .modal-footer #moda_footer_social {
            float:left;
        }
        .im:after {
            content: '';
            display: block;
            clear: both;
        }
        /* ---- .im-item ---- */
        .grid-sizer,
        .im-item {
            width: 33.333%;
        }
        .im-item {
            float: left;
        }
        .im-item img {
            display: block;
            width: 100%;
            max-width: 100%;
        }
        .modal-content {
            background-color: rgb(26, 26, 26);
        }
        .modal-dialog {
            background-color: rgb(26, 26, 26);
            width: 60%;
        }
        .modal-header {
            border-bottom: none;  
        }
        .modal-footer {
            border-top: none;  
        }

        #socialButtonsLikeShare{
            display: inline-block;
            float:left;


        }
        #socialButtonsLikeShare .button{
            float:left;
            margin-right: 4px;
        }
    </style>
    <div class="pageContent">
        <div class="theEntityDiv">
            <div class="innerTitle">
                <h1>{{gallery.name}} {{gallery.date|date("d/m/Y")}}</h1>
            </div>
            <div id="innerEntityContent">
                {{ gallery.description }}
            </div>
            <div id="galleryViewPhotogtapher">
                {% if gallery.photographers is not empty %}
                    <p><span>Photo Credit</span>: 
                        {% for ph in gallery.photographers %}
                            <a href='ph.website'>{{ph.name}}</a> {% if not loop.last %} - {% endif %} 
                        {% endfor %}
                    </p>
                {% endif %}
            </div>
        </div>
    </div>

    <div class="row">
        <div class="im">
            <div class="grid-sizer"></div>
            <div id='links'>

                {% for galleryHasMedia in gallery.GalleryHasMedias %}
                    <div class="im-item">
                        <a data-gallery='' title="" href="{% path galleryHasMedia.media, 'large' %}"><img class="thumbnail img-responsive" src="{% path galleryHasMedia.media, 'small' %}"></a></div>

                {% endfor %}
            </div>
        </div>
    </div>



    <div id="blueimp-gallery" class="blueimp-gallery">
        <!-- The container for the modal slides -->
        <div class="slides"></div>
        <!-- Controls for the borderless lightbox -->
        <h3 class="title"></h3>
        <a class="prev">‹</a>
        <a class="next">›</a>
        <a class="close">×</a>
        <a class="play-pause"></a>
        <ol class="indicator"></ol>
        <!-- The modal dialog, which will be used to wrap the lightbox content -->
        <div class="modal fade">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" aria-hidden="true">&times;</button>
                        <h4 class="modal-title"></h4>
                    </div>
                    <div class="modal-body next"></div>
                    <div class="modal-footer">
                        <div>{{ render_esi(url('ads_manager_show', { 'id': 'snapshot_popup' })) }}</div>
                        <button type="button" class="btn btn-default pull-left prev">
                            <i class="glyphicon glyphicon-chevron-left"></i>
                            Previous
                        </button>
                        <button type="button" class="btn btn-primary next">
                            Next
                            <i class="glyphicon glyphicon-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block massonary %}
    {% javascripts '@massonary' '@imagesloaded'%}
    <script type="text/javascript" src="{{ asset_url }}"></script>
    {% endjavascripts %}
    <script>
        $(document).ready(function () {
            var $grid = $('.im').masonry({
                itemSelector: '.im-item',
                percentPosition: true,
                columnWidth: '.grid-sizer'
            });
            // layout Isotope after each image loads
            $grid.imagesLoaded().progress(function () {
                $grid.masonry();
            });


        });
        
        $('#links .im-item').onclick = function (event) {
            event = event || window.event;
            var target = event.target || event.srcElement,
                    link = target.src ? target.parentNode : target,
                    options = {index: link, event: event},
            links = this.getElementsByTagName('a');
            blueimp.Gallery(links, options);
        };
    </script>
    <script src="{{ asset('bundles/yallawebsitefrontend/js/jquery.blueimp-gallery.min.js') }}"></script>
    <script src="{{ asset('bundles/yallawebsitefrontend/js/bootstrap-image-gallery.js') }}"></script>
{% endblock %}